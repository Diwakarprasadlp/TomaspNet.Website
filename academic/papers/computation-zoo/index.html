<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8">
  <title>The F# Computation Expression Zoo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="Tomas Petricek">

  <!-- Reference Foundation -->
  <link rel="stylesheet" href="http://tomasp.net/css/foundation.css">
  <script src="http://tomasp.net/js/vendor/custom.modernizr.js"></script>

  <link rel="alternate" type="application/rss+xml" href="http://tomasp.net/rss.xml" title="RSS feed for Tomas Petricek's blog">
  <link rel="icon" type="image/png" href="http://tomasp.net/img/favicon.png" />
    
  <!-- Reference custom CSS and tooltips -->
  <link type="text/css" rel="stylesheet" href="http://tomasp.net/custom/style.css" />
  <script type="text/javascript" src="http://tomasp.net/custom/tooltips.js"></script>
  <link type="text/css" rel="stylesheet" href="http://tomasp.net/custom/tooltips.css" />
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>

   <header id="top-header">
    <div class="row">
      <div class="twelve columns">
        <h1><a href="http://tomasp.net/">Tomas Petricek</a></h1>
        <p>Writing about practical F# coding and programming language research</p>
      </div>
    </div>
  </header>

  <header class="top-bar-header">
    <div class="contain-to-grid sticky">
    <nav class="top-bar">

    <ul class="title-area">
      <li class="name"><h1><a href="#"></a></h1></li>
      <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>
    <section class="top-bar-section">
      <ul class="right">
        <li><a href="http://tomasp.net/blog/index.html">Blog</a></li>
        <li><a href="http://functional-programming.net">Books</a></li>
        <li><a href="http://fsharpworks.com/workshops.html">Trainings</a></li>
        <li><a href="http://fsharpworks.com">Consulting</a></li>
        <li><a href="http://tomasp.net/academic">Research</a></li>
      </ul>
    </section>

    </nav></div>
  </header>
  
  

<div class="row academic paper">
  <div class="large-8 columns main-content">
  <content>
    
<h1>The F# Computation Expression Zoo</h1>

<blockquote>
  <p>Tomas Petricek and Don Syme</p>

  <p>In Proceedings of PADL 2014</p>
</blockquote>

<p>Many computations can be structured using abstract computation types such as monoids, monad transformers or 
applicative functors. Functional programmers use those abstractions directly while main-stream
languages often integrate concrete instances as language features - e.g. generators in Python
or asynchronous computations in C# 5.0. The question is, is there a sweet spot between 
convenient, hardwired language features, and an inconvenient but flexible libraries?</p>

<p>F# <em>computation expressions</em> answer this question in the affirmative. Unlike 
the <code>do</code> notation in Haskell, computation expressions are not tied to a single kind of abstraction.
They support a wide range of computations, depending on what operations are available. They also 
provide greater syntactic flexibility leading to a more intuitive syntax, without resorting to 
full macro-based meta-programming.</p>

<p>We show that computation expressions can structure well-known computations including monoidal 
list comprehensions, monadic parsers, applicative formlets and asynchronous sequences based on the 
list monad transformer. We also present typing rules for computation expressions that are capable of 
capturing all these applications.</p>

<h2>Paper and more information</h2>

<ul>
<li>Download <a href="computation-zoo.pdf">the paper (PDF)</a></li>
<li>View <a href="poster-tfp.pdf">poster from TFP 2012</a></li>
<li>View <a href="talk-tfp.pdf">talk slides from TFP 2012</a></li>
</ul>

<h2>Related papers</h2>

<p>An earlier draft of the paper appeared in pre-proceedings of TFP 2012. The PADL 2014 version
differs in that it emphasizes the different abstractions that can be encoded (over different
applications) and it discusses laws in more details, as well as how to use laws to choose 
between different syntactic options. 
The older draft might still be interesting as it provides more tutorial style overview,
especially for those already familiar with F#:</p>

<ul>
<li><a href="syntax-matters.pdf">Syntax Matters: Writing abstract computations in F#</a> (PDF)
(Tomas Petricek and Don Syme, In Pre-proceedings of TFP 2012)</li>
</ul>

<h2>Try Joinads</h2>

<img src="tryjoinads.png" style="float:right;margin:0px 20px 0px 30px" />

<p><a href="http://tryjoinads.org">Try Joinads</a> is a web site, using the 
<a href="https://github.com/fsharp/fsharp">open-source release of F#</a> that comes
with a browser-based F# console where you can experiment with the computations
described in the paper and explore the full implementation. It also implements
syntax for <em>applicative functors</em> that is not available in the current version of F#.</p>

<ul>
<li>See the <a href="http://tryjoinads.org/index.html?computations/home.html">paper page on Try Joinads</a></li>
</ul>

<h2><a id="cite">Bibtex</a></h2>

<p>If you want to cite the paper, you can use the following BibTeX information, or
get full details from the <a href="#">paper page on ACM</a>.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="tex">@inproceedings{computation-zoo-padl14,
  author    = {Petricek, Tomas and Syme, Don},
  title     = {The F\# Computation Expression Zoo},
  booktitle = {Proceedings of Practical Aspects of Declarative Languages},
  series    = {PADL 2014},
  location  = {San Diego, CA, USA}
} 
</code></pre></td></tr></table>

<p>If you have any comments, suggestions or related ideas, I'll be happy to 
hear from you! Send me an email at <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a>
or get in touch via Twitter at <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a>.</p>


  </content>
  </div>
  <div class="large-4 columns" id="right-bar">
    <div class="right-item" id="right-calendar">
<script type="text/javascript">
  var monthNames =
    ["January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"];
  var d = new Date();
  var m = monthNames[d.getMonth()];
  var y = d.getFullYear();
  var ml = m.toLowerCase();
  document.writeln("<h4>Calendar - " + m + " " + y + "</h4>");
  document.writeln("<a href=\"http://tomasp.net/calendar/" + y + "/" + ml + ".html\">" +
    "<img src=\"http://tomasp.net/calendar/" + y + "/" + ml + "-preview.jpg\" style=\"border-style:none;\" />" +
    "</a>");
</script>
<p>The calendar shows a new picture each month. See photos for
  <a href="http://tomasp.net/calendar/2005">2005</a>, <a href="http://tomasp.net/calendar/2006">2006</a>,
  <a href="http://tomasp.net/calendar/2007">2007</a>, <a href="http://tomasp.net/calendar/2008">2008</a>,
  <a href="http://tomasp.net/calendar/2009">2009</a>, <a href="http://tomasp.net/calendar/2010">2010</a>,
  <a href="http://tomasp.net/calendar/2011">2011</a>, <a href="http://tomasp.net/calendar/2012">2012</a>,
  <a href="http://tomasp.net/calendar/2013">2013</a>, <a href="http://tomasp.net/calendar/2014">2014</a>,
  <a href="http://tomasp.net/calendar/2015">2015</a>
  and the first photos of <a href="http://tomasp.net/calendar/2016">2016</a>.
</p>
</div>


    <h3>Welcome!</h3>
    <img src="http://tomasp.net/img/tomas.jpg" alt="Tomas Petricek" style="float:right;margin:10px 0px 10px 10px;" />

    <p>I'm a third year PhD Student at the <a href="http://www.cam.ac.uk">University of Cambridge</a>.
      My supervisors are <a href="http://www.cl.cam.ac.uk/~am21/">Alan Mycroft</a> from the Computer 
      Lab and <a href="http://research.microsoft.com/en-us/people/dsyme/">Don Syme</a>.
      Before joining the Computer Laboratory, I studied at the <a href="http://www.mff.cuni.cz">Faculty of Mathematics and 
      Physics</a> in Prague and I did two internships at Microsoft Research. 
      I also did an internship at BlueMountain Capital, working on 
      <a href="http://bluemountaincapital.github.io/Deedle">data science library Deedle</a>.
    </p>
    <br />

    <h3>Contact info</h3>        
    <ul>
      <li>Connect via twitter: <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a>  </li>
      <li>Email me at: <a href="tomas@tomasp.net">tomas@tomasp.net</a>  </li>
      <li>For more see my: <a href="https://github.com/tpetricek">GitHub</a> | <a href="http://www.linkedin.com/in/tomaspetricek">LinkedIn</a> | <a href="http://lanyrd.com/profile/tomasp/">Lanyrd</a></li>
    </ul>    
    <br />
  </div>
</div>

  <div class="row" id="footer">
  <footer>   
    <div class="large-4 columns">
      <h4>Contact &amp; about</h4>
      <p>This site is hosted on GitHub and is generated using <a href="https://github.com/tpetricek/FSharp.Formatting">F# Formatting</a>.
        For more info, see the <a href="https://github.com/tpetricek/TomaspNet.Website">website source on GitHub</a>.
      </p>
      <p>Please submit issues &amp; corrections on GitHub. Use pull requests for minor corrections only.</p>
      <ul>
        <li>Email me: <a href="mailto:tomas@tomasp.net">tomas@tomasp.net</a></li>
        <li>Connect via Twitter: <a href="http://twitter.com/tomaspetricek">@tomaspetricek</a></li>
        <li>More: <a href="http://uk.linkedin.com/in/tomaspetricek">LinkedIn</a> | <a href="http://lanyrd.com/profile/tomasp/">Lanyrd</a> | <a href="https://github.com/tpetricek">GitHub</a></li>
      </ul>
    </div>
    <div class="large-5 columns">
      <h4>Elsewhere online &amp; offline</h4>
      <p>If you want to keep up to date, you can subscribe to <a href="http://tomasp.net/rss.xml">my blog</a>, 
        which includes my research posts via RSS. You can also follow <a href="https://twitter.com/tomaspetricek">@tomaspetricek</a> on twitter.
        For my other activities and projects that I am or was involved in, visit my 
        <a href="http://tomasp.net">professional home page</a>.</p>

      <p>I'm active member of the F# developer community. I often come to 
        <a href="http://www.meetup.com/fsharplondon/">F#unctional Londoners</a> meetings and 
        participate on <a href="http://stackoverflow.com/users/33518/tomas-petricek">StackOverflow</a>.
        Check out my <a href="http://fssnip.net"></a>recent F# Snippets web site</a>. It is an online pastebin for the F# langauge that type-checks 
        posted snippets and generates nice JavaScript tooltips with type information.</p>

    </div>
    <div class="large-2 columns">
      <h4>License</h4>
      <p>Unless explicitly mentioned, all articles on this site are licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>. 
        All source code samples are licensed under Apache 2.0.
      </p>
      <img src="http://tomasp.net/img/cc-sa.png" alt="CC License logo" />
    </div>
  </footer>
  </div>
  
  <script>
    document.write('<script src=' +
    ('__proto__' in {} ? 'http://tomasp.net/js/vendor/zepto' : 'http://tomasp.net/js/vendor/jquery') +
  '.js><\/script>')
  </script>
  
  <script src="http://tomasp.net/js/foundation.min.js"></script>
  <script>
    $(document).foundation();
  </script>
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1561220-1']);
    _gaq.push(['_trackPageview']);

    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
  <script src="http://cdn.lanyrd.net/badges/person-v1.min.js"></script>
</body>
</html>